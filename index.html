<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Bambi-mvvm : A lightweight MVVM framework for the Vaadin 6.x framework." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Bambi-mvvm</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/S73417H/bambi-mvvm">View on GitHub</a>

          <h1 id="project_title">Bambi-mvvm</h1>
          <h2 id="project_tagline">A lightweight MVVM framework for the Vaadin 6.x framework.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/S73417H/bambi-mvvm/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/S73417H/bambi-mvvm/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>Bambi is a lightweight <a href="http://en.wikipedia.org/wiki/Model_View_ViewModel#Java_MVVM_frameworks">MVVM</a> add-on for Vaadin web applications. Bambi uses a declarative style annotation-driven approach to UI binding. The framework attempts to adhere to basic MVVM principles and allows users to develop expressive UI with highly testable view models. One of the primary design goals of the Bambi framework is to enable the creation of minimalist, and highly readable code whilst not impeding the ability to deliver rich client user interfaces.</p>

<p>The overall structure borrows heavily from existing MVC/MVVM frameworks, including:</p>

<ul>
<li><a href="http://vaadin.com/directory#addon/">Clara</a></li>
<li><a href="https://github.com/palantir/Cinch">Panantir Cinch</a></li>
<li><a href="http://msdn.microsoft.com/en-us/magazine/dd419663.aspx">Microsoft WPF MVVM</a></li>
<li><a href="http://code.google.com/p/formbinder/">Vaadin FormBinder</a></li>
<li><a href="http://code.google.com/p/magellan-framework/">Magellan Framework</a></li>
</ul><h1>
<a name="current-build-status" class="anchor" href="#current-build-status"><span class="octicon octicon-link"></span></a>Current Build Status</h1>

<p>Bambi-MVVM uses Travis CI for continuous integration.</p>

<p><a href="https://travis-ci.org/S73417H/bambi-mvvm"><img src="https://travis-ci.org/S73417H/bambi-mvvm.png" alt="Build Status"></a></p>

<h1>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h1>

<p>This add-on is made available via the official Vaadin add-on directory using the following link: <a href="https://vaadin.com/directory#addon/bambi-mvvm">https://vaadin.com/directory#addon/bambi-mvvm</a>.</p>

<p>Alternatively see the <a href="https://github.com/S73417H/bambi-mvvm/releases">releases section</a> or checkout the <a href="https://github.com/S73417H/bambi-mvvm.git">source code</a> for yourself.</p>

<h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>

<h2>
<a name="prerequisites" class="anchor" href="#prerequisites"><span class="octicon octicon-link"></span></a>Prerequisites</h2>

<ul>
<li>Java 5</li>
<li>Maven 2.2</li>
<li>A working internet connection</li>
</ul><h2>
<a name="editing-the-code-in-an-ide" class="anchor" href="#editing-the-code-in-an-ide"><span class="octicon octicon-link"></span></a>Editing the code in an IDE</h2>

<p>The project-name add-on project can be imported in any IDE that supports Maven.</p>

<h2>
<a name="trying-out-the-demo" class="anchor" href="#trying-out-the-demo"><span class="octicon octicon-link"></span></a>Trying out the demo</h2>

<ol>
<li>
<p>Compile and install the entire project:</p>

<p><code>mvn install</code></p>
</li>
<li>
<p>Start the built-in Jetty web server:</p>

<p><code>cd demo</code></p>

<p><code>mvn jetty:run</code></p>
</li>
<li>
<p>Open your favorite web browser and point it to:</p>

<p>http://localhost:8080/demo/</p>
</li>
</ol><h2>
<a name="reading-the-manual" class="anchor" href="#reading-the-manual"><span class="octicon octicon-link"></span></a>Reading the manual</h2>

<ol>
<li>
<p>Generate the manual:</p>

<p><code>cd manual</code>
<code>mvn docbkx:generate-html</code></p>
</li>
<li><p>Open the file manual/target/docbkx/html/manual.html
 in your favorite web browser.</p></li>
</ol><h2>
<a name="building-the-add-on" class="anchor" href="#building-the-add-on"><span class="octicon octicon-link"></span></a>Building the add-on</h2>

<ol>
<li>
<p>Run the following command:</p>

<p><code>mvn package assembly:assembly</code></p>
</li>
</ol><h1>
<a name="supported-annotations" class="anchor" href="#supported-annotations"><span class="octicon octicon-link"></span></a>Supported Annotations</h1>

<p>The following table contains a list of currently supported Bambi MVVM annotations:</p>

<table>
<thead><tr>
<th>Annotations</th>
<th align="center">Description</th>
</tr></thead>
<tbody>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/View.java">@View</a></td>
<td align="center">Applied to a view class that shall be bound to a view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/PropertyBound.java">@PropertyBound</a></td>
<td align="center">Applied to any UI element that implements the <code>Property.Viewer</code> interface (e.g. <code>TextField</code>). Binds the element to a corresponding property declared in the view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/ItemBound.java">@ItemBound</a></td>
<td align="center">Applied to any UI element that implements the <code>Item.Viewer</code> interface (e.g. <code>Form</code>). Binds the element to a corresponding <code>Item</code> declared in the view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/ContainerBound.java">@ContainerBound</a></td>
<td align="center">Applied to any UI element that implements the <code>Container.Viewer</code> interface (e.g. <code>Table</code>). Binds the element to a corresponding <code>Container</code> declared in the view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/ActionBound.java">@ActionBound</a></td>
<td align="center">Applied to <code>Button</code> elements in the UI. Binds the button click event to a method in the corresponding view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/EventBound.java">@EventBound</a></td>
<td align="center">Applied to any UI <code>Component</code>. Binds a specified event to a corresponding event handler method in the corresponding view model.</td>
</tr>
<tr>
<td><a href="https://github.com/S73417H/bambi-mvvm/blob/master/addon/src/main/java/org/vaadin/addons/bambi/ValueChangeBound.java">@ValueChangeBound</a></td>
<td align="center">Applied to any UI element that implements the <code>ValueChangeListener</code> interface (e.g. <code>TextField</code>, <code>Table</code>, etc). Binds the value change event to a method in the corresponding view model.</td>
</tr>
</tbody>
</table><h1>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h1>

<h2>
<a name="view" class="anchor" href="#view"><span class="octicon octicon-link"></span></a>View</h2>

<div class="highlight highlight-java"><pre><span class="nd">@View</span><span class="o">(</span><span class="n">model</span> <span class="o">=</span> <span class="n">AddressBookViewModel</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddressBookView</span> <span class="kd">extends</span> <span class="n">CustomComponent</span> <span class="kd">implements</span> <span class="n">Handler</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>

    <span class="nd">@ActionBound</span><span class="o">(</span><span class="n">to</span> <span class="o">=</span> <span class="s">"addAddress"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Button</span> <span class="n">addButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Button</span><span class="o">(</span><span class="s">"New Address"</span><span class="o">);</span>

    <span class="nd">@ActionBound</span><span class="o">(</span><span class="n">to</span> <span class="o">=</span> <span class="s">"removeAddress"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Button</span> <span class="n">removeButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Button</span><span class="o">(</span><span class="s">"Remove Address"</span><span class="o">);</span>

    <span class="nd">@PropertyBound</span><span class="o">(</span><span class="n">to</span> <span class="o">=</span> <span class="s">"selected"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">AddressBookForm</span> <span class="n">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AddressBookForm</span><span class="o">();</span>

    <span class="nd">@ContainerBound</span><span class="o">(</span><span class="n">to</span> <span class="o">=</span> <span class="s">"addresses"</span><span class="o">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="o">{</span> <span class="n">NAME_PROPERTY</span><span class="o">,</span>
        <span class="n">SURNAME_PROPERTY</span><span class="o">,</span> <span class="n">LINE1_PROPERTY</span><span class="o">,</span> <span class="n">LINE2_PROPERTY</span><span class="o">,</span> <span class="n">CITY_PROPERTY</span><span class="o">,</span>
        <span class="n">STATE_PROPERTY</span><span class="o">,</span> <span class="n">AREACODE_PROPERTY</span><span class="o">,</span> <span class="n">COUNTRY_PROPERTY</span> <span class="o">})</span>

    <span class="nd">@ValueChangeBound</span><span class="o">(</span><span class="n">to</span> <span class="o">=</span> <span class="s">"selectAddress"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Table</span><span class="o">();</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Action</span> <span class="n">commitAction</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ShortcutAction</span><span class="o">(</span><span class="s">"ENTER"</span><span class="o">,</span>
        <span class="n">ShortcutAction</span><span class="o">.</span><span class="na">KeyCode</span><span class="o">.</span><span class="na">ENTER</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

<span class="o">...</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="view-model" class="anchor" href="#view-model"><span class="octicon octicon-link"></span></a>View Model</h2>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddressBookViewModel</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">final</span> <span class="n">Container</span> <span class="n">addresses</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BeanItemContainer</span><span class="o">&lt;</span><span class="n">Address</span><span class="o">&gt;(</span><span class="n">Address</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">final</span> <span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BeanItem</span><span class="o">&gt;</span> <span class="n">selected</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BeanItem</span><span class="o">&gt;(</span><span class="kc">null</span><span class="o">,</span> <span class="n">BeanItem</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">selectAddress</span><span class="o">(</span><span class="n">Property</span><span class="o">.</span><span class="na">ValueChangeEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Table</span> <span class="n">table</span> <span class="o">=</span> <span class="o">(</span><span class="n">Table</span><span class="o">)</span><span class="n">event</span><span class="o">.</span><span class="na">getProperty</span><span class="o">();</span>
        <span class="n">Item</span> <span class="n">selectedItem</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="n">table</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
        <span class="n">selected</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">selectedItem</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addAddress</span><span class="o">(</span><span class="n">Button</span><span class="o">.</span><span class="na">ClickEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Address</span> <span class="n">newAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="o">();</span>
        <span class="n">Item</span> <span class="n">item</span> <span class="o">=</span> <span class="n">addresses</span><span class="o">.</span><span class="na">addItem</span><span class="o">(</span><span class="n">newAddress</span><span class="o">);</span>
        <span class="n">selected</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
        <span class="n">event</span><span class="o">.</span><span class="na">getComponent</span><span class="o">().</span><span class="na">getWindow</span><span class="o">().</span><span class="na">showNotification</span><span class="o">(</span><span class="s">"Address Added"</span><span class="o">,</span><span class="n">TYPE_HUMANIZED_MESSAGE</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeAddress</span><span class="o">(</span><span class="n">Button</span><span class="o">.</span><span class="na">ClickEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">BeanItem</span> <span class="n">item</span> <span class="o">=</span> <span class="o">(</span><span class="n">BeanItem</span><span class="o">)</span><span class="n">selected</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
        <span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="o">(</span><span class="n">Address</span><span class="o">)</span><span class="n">item</span><span class="o">.</span><span class="na">getBean</span><span class="o">();</span>
        <span class="k">if</span><span class="o">(</span><span class="n">addresses</span><span class="o">.</span><span class="na">removeItem</span><span class="o">(</span><span class="n">address</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">event</span><span class="o">.</span><span class="na">getComponent</span><span class="o">().</span><span class="na">getWindow</span><span class="o">().</span><span class="na">showNotification</span><span class="o">(</span><span class="s">"Address Removed"</span><span class="o">,</span> <span class="n">TYPE_HUMANIZED_MESSAGE</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>

<h2>
<a name="binding-view-to-viewmodel" class="anchor" href="#binding-view-to-viewmodel"><span class="octicon octicon-link"></span></a>Binding View to ViewModel</h2>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddressBook</span> <span class="kd">extends</span> <span class="n">Application</span> <span class="o">{</span>

        <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>

        <span class="kd">private</span> <span class="n">Window</span> <span class="n">window</span><span class="o">;</span>

        <span class="cm">/** {@inheritDoc} */</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Window</span><span class="o">(</span><span class="s">"Bambi Demo Application - Address Book"</span><span class="o">);</span>
                <span class="n">ViewContainer</span><span class="o">&lt;</span><span class="n">AddressBookView</span><span class="o">&gt;</span> <span class="n">view</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AnnotatedViewFactory</span><span class="o">().</span><span class="na">materialize</span><span class="o">(</span><span class="n">AddressBookView</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="n">window</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
                <span class="n">setMainWindow</span><span class="o">(</span><span class="n">window</span><span class="o">);</span>
        <span class="o">}</span>

<span class="o">}</span>
</pre></div>

<h1>
<a name="authors" class="anchor" href="#authors"><span class="octicon octicon-link"></span></a>Authors</h1>

<p><a href="http://www.linkedin.com/pub/michael-fazio/b/b20/a23">Michael Fazio</a></p>

<h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>Bambi is released under Apache 2.0 license.</p>

<p>Copyright 2012 Michael Fazio</p>

<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
file except in compliance with the License. You may obtain a copy of the License at</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied. See the License for the specific language governing
permissions and limitations under the License.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Bambi-mvvm maintained by <a href="https://github.com/S73417H">S73417H</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
